# ValhallaLoot Configuration
# Global settings for the ValhallaLoot plugin

# DO NOT MODIFY THIS - automatically updated by plugin
config-version: "1.0.0"

# Debug level: controls verbosity of logging
# Options: LOWEST (dev), LOW (debug), NORMAL (info), HIGH (warn), HIGHEST (user-only)
debug-level: "NORMAL"

# Automatic background conversion of containers on chunk load
# When enabled, newly loaded chunks are scanned and any vanilla containers found are converted
# This provides automatic, low-overhead conversion without manual commands
# Runs asynchronously to avoid server strain
# IMPORTANT: This feature ONLY activates in worlds that have already been converted via /valloot convert
# This prevents accidental conversion of fresh worlds while allowing automatic updates in existing worlds
auto-convert-on-chunk-load: true

# Which worlds should have auto-conversion enabled
# Options:
#   - "all": Convert containers in all worlds
#   - ["world", "world_nether"]: Convert only specified worlds (YAML list)
#   - Remove this line: Defaults to "all" if not specified
auto-convert-worlds:
  - "world"
  # - "world_nether"
  # - "custom_world"

# Container settings
containers:
  # First-open only: if true, containers will only generate loot the first time they're opened
  first-open-only: true
  # Per-player loot: if true, first-open is tracked per player (instanced loot)
  per-player-loot: false
  
  # Respawn settings for containers (if supported)
  respawn:
    enabled: true
    # Cooldown in milliseconds (1 hour = 3600000)
    cooldown-ms: 3600000
    # Variance percentage (0-100), applied as Â± percentage
    variance: 10.0

# Table selection (maps container types to loot tables)
table-selection:
  chest: "common"
  barrel: "common"
  trapped_chest: "rare"
  trial_spawner: "trial_chambers"
  vault: "trial_chambers"
  # Add more mappings as needed

# Structure-based loot table selection
# When a container is found in these structures, these loot tables are used instead
# Structure detection works by checking biome and nearby blocks within 15-block radius
structure-tables:
  stronghold: "stronghold"           # Stone brick libraries at y<50
  village: "village"                 # Wooden structures with doors/beds
  mansion: "mansion"                 # Dark oak density check
  nether_fortress: "nether_fortress" # Nether brick in nether world
  bastion_remnant: "bastion_remnant" # Blackstone and gold in nether
  ancient_city: "ancient_city"       # Sculk blocks at y<-10
  pillager_outpost: "pillager_outpost" # Dark oak/grey concrete clusters
  desert_pyramid: "desert_pyramid"   # Desert biome with sandstone
  jungle_temple: "jungle_temple"     # Jungle biome with mossy stone
  ocean_ruins: "ocean_ruins"         # Underwater sandstone/gravel
  shipwreck: "shipwreck"             # Underwater oak/spruce wood
  end_city: "end_city"               # End dimension with purpur blocks

# ValhallaMMO Integration
valhalla-mmo:
  # Auto-detect if enabled
  auto-detect: true
  
  # Skill thresholds for bonus loot (example)
  bonus-tables-by-skill:
    mining: 10  # Players with Mining >= 10 get bonus mining drops
    treasure-hunting: 15
